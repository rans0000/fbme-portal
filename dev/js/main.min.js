!function(){"use strict";function e(e){e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",e.defaults.paramSerializer="$httpParamSerializerJQLike"}function r(e,r,t){r.otherwise("/login"),t.interceptors.push("httpRequestInterceptor"),e.state("login",{url:"/login",templateUrl:"js/modules/login/login.template.html",controller:"LoginController",controllerAs:"login"}).state("root",{abstract:!0,views:{"":{templateUrl:"js/modules/contentArea/contentArea.template.html"},"headerArea@root":{templateUrl:"js/modules/headerArea/headerArea.template.html",controller:"HeaderAreaController",controllerAs:"header"}}})}function t(e,r){function t(t){var n=t;return t.config.url.startsWith(r.apiBase)&&(n=t.data.header&&"FD200"!==t.data.header.responseCode?e.reject(t.data):t.data.body?t.data.body:{}),n}function n(r){var t={header:{responseCode:r.status,message:r.statusText,requestUrl:r.config.url}};return e.reject(t)}var a={};return a.response=t,a.responseError=n,a}function n(){return jQuery}function a(e){e.debugInfoEnabled(!1)}angular.module("app.core.module",["ui.router","ui.bootstrap","toastr","ngStorage","headerArea.module","ui.bootstrap.contextMenu","login.module","dashboard.module","role.module","branch.module"]).config(e).config(r).config(a).factory("httpRequestInterceptor",t).factory("jQuery",n),e.$inject=["$httpProvider"],r.$inject=["$stateProvider","$urlRouterProvider","$httpProvider"],t.$inject=["$q","webServiceURL"],a.$inject=["$compileProvider"]}(),function(){"use strict";function e(e){var r=this;r.css=e.getCss()}angular.module("app.core.module").controller("AppController",e),e.$inject=["utils"]}(),function(){"use strict";function e(){var e={apiBase:"http://localhost:8090/FDocs/api/",login:"auth/login.json",roleList:"role/list.json",roleDetails:"role/details.json",roleCreate:"role/create.json",roleUpdate:"role/update.json",roledelete:"role/delete.json"};return e}function r(){var e={PERSONAL_DOCS:1,ADMIN:2,COLLABORATION_ADMIN:4,ROLE_MANAGEMENT:8,BRANCH_MANAGEMENT:16,DEPARTMENT_MANAGEMENT:32,SETTINGS_MANAGEMENT:64,USER_MANAGEMENT:128,USER_GROUP_MANAGEMENT:256};return e}angular.module("app.core.module").constant("webServiceURL",e()).constant("permissions",r())}(),function(){"use strict";function e(e){e.state("root.branch",{url:"/branch",templateUrl:"js/modules/branch/branch.template.html",controller:"BranchController",controllerAs:"branch"})}angular.module("branch.module",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("root.dashboard",{url:"/dashboard",templateUrl:"js/modules/dashboard/dashboard.template.html",controller:"DashboardController",controllerAs:"dash"})}angular.module("dashboard.module",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("headerArea.module",[])}(),function(){"use strict";angular.module("login.module",[])}(),function(){"use strict";function e(e){e.state("root.role",{url:"/role",templateUrl:"js/modules/role/role.template.html",controller:"RoleController",controllerAs:"role"})}angular.module("role.module",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,r,t){function n(){a(),e.getSidenavItems().then(T)}function a(){o()}function o(){e.loadBranchList(B.searchOptions).then(i).catch(c)}function i(e){B.branchList=e.items,B.searchOptions.totalItems=e.totalNumPages}function c(r){var n=e.getErrorTranslationValue(r.header.responseCode);t.error(n,"Error at listing Branch")}function l(e){B.deletePopupData=s(),B.deletePopupData.successResult=e.id,B.deletePopupData.description="Do you want to delete this branch ("+e.name+")?";var t=r.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"js/modules/common/confirmDialog/confirm.dialog.template.html",controller:"ModalInstanceCtrl",controllerAs:"$ctrl",size:"sm",resolve:{dialogData:function(){return B.deletePopupData}}});t.result.then(u)}function s(){var e={headingText:"Delete Branch",confirmText:"Yes",cancelText:"No",description:"",successResult:"",cancelResult:"cancel"};return e}function u(r){var t={ids:[r]};e.deleteBranch(t).then(d).catch(m)}function d(e){console.log(e),t.success("Deleted the branch","Delete Branch"),o()}function m(r){var n=e.getErrorTranslationValue(r.header.responseCode);t.error(n,"Error at listing Branch")}function p(r){var t={id:r.id};e.loadBranchDetails(t).then(f).catch(g)}function f(e){B.updateBranchPopupData.item=e.items[0];var t=r.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"js/modules/branch/create-update/branch.create.update.template.html",controller:"BranchUpdateController",controllerAs:"branchDialog",size:"md",resolve:{dialogData:function(){return B.updateBranchPopupData}}});t.result.then(h)}function g(r){console.log(r);var n=e.getErrorTranslationValue(r.header.responseCode);t.error(n,"Error at loading Branch details")}function h(){o()}function v(){var e={headingText:"Update Branch",confirmText:"Update",cancelText:"Cancel",description:"",successResult:"",cancelResult:"cancel",currentPermissions:[],item:null,mode:"update",translation:null};return e}function b(){B.createBranchPopupData.item={name:"",description:"",privileges:""};var e=r.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"js/modules/branch/create-update/branch.create.update.template.html",controller:"BranchUpdateController",controllerAs:"branchDialog",size:"md",resolve:{dialogData:function(){return B.createBranchPopupData}}});e.result.then(D)}function D(){o()}function R(){var e={headingText:"Create Branch",confirmText:"Create",cancelText:"Cancel",description:"",successResult:"",cancelResult:"cancel",currentPermissions:[],item:null,mode:"create",translation:null};return e}function C(){var e=B.idList.split(/\s*,\s*/).map(function(e){return parseInt(e.trim(),10)}).filter(function(e){return!isNaN(e)}).join(",");B.searchOptions.createdByUserIds=e||void 0,o()}function A(){var e=new Date,r=new Date(e);r.setFullYear(r.getFullYear()-1);var t={totalItems:0,page:1,pageSize:30,sortBy:"name",sortOrder:"A",searchText:"",createdDateFrom:r,createdDateTo:e,createdByUserIds:[]};return t}function P(){var e={isOpen:!1,dateCreatedFromIsOpen:!1,dateCreatedToIsOpen:!1};return e}function T(e){B.itemTree=e,B.selectedFolder=B.itemTree[0]}var B=this;B.branchList=[],B.isExpandedState=!0,B.deletePopupData={},B.updateBranchPopupData=v(),B.createBranchPopupData=R(),B.searchOptions=A(),B.advSearch=P(),B.idList="",B.onDeleteBranchInitiate=l,B.onUpdateBranchInitiate=p,B.onCreateBranchInitiate=b,B.loadBranchData=C,n()}angular.module("branch.module").controller("BranchController",e),e.$inject=["branchService","$uibModal","toastr"]}(),function(){"use strict";function e(e,r,t,n){function a(t){var n=r.apiBase+r.branchList;return e.get(n,{params:t})}function o(t){var n=r.apiBase+r.branchdelete;return e.post(n,t)}function i(t){var n=r.apiBase+r.branchCreate;return e.post(n,t)}function c(t){var n=r.apiBase+r.branchUpdate;return e.post(n,t)}function l(t){var n=r.apiBase+r.branchDetails;return e.get(n,t)}function s(e){var r=e.split(","),t={unselected:{},selected:{}};for(var a in n)r.indexOf(a)<0?t.selected[a]=!1:t.unselected[a]=!1;return t}function u(){return t.loadSideMenu("administration")}function d(e){return t.errorHandler(e)}var m={};return m.loadRoleList=a,m.loadRoleDetails=l,m.createRole=i,m.updateRole=c,m.deleteRole=o,m.getPermissionArray=s,m.getSidenavItems=u,m.getErrorTranslationValue=d,m}angular.module("branch.module").factory("branchService",e),e.$inject=["$http","webServiceURL","utils","permissions"]}(),function(){"use strict";function e(){function e(e){a=angular.copy(e),a.privilegeArray=a.privileges.split(","),e=null}function r(){return angular.copy(a)}function t(e){var r;if(!a.hasOwnProperty)throw{message:"Missing property in Current user profile"};return r=a[e]}function n(e){var r=a.privilegeArray.indexOf(e)!==-1;return r}var a,o={};return o.saveCurrentUserProfile=e,o.getAllCurrentUserProfile=r,o.getCurrentUserProfile=t,o.hasPermission=n,o}angular.module("app.core.module").factory("userService",e)}(),function(){"use strict";function e(e,r,t){function n(){return t.lang=t.lang||"en-US",t.lang}function a(e){t.lang=e}function o(){return t.css=t.css||"lang-en",t.css}function i(e){t.css=e}function c(r){var t=m?e.resolve(m):l(r);return t}function l(t){var n="data/translations/translations.all-"+t+".json";return r.get(n).then(function(e){return e.data.translation}).catch(function(r){return e.reject(r)})}function s(){return[{name:"English",langCode:"en-US",css:"lang-en",direction:"ltr"},{name:"العَرَبِيَّة",langCode:"ar",css:"lang-ar",direction:"rtl"}]}function u(e){var r;switch(e){case"FD200":r="cmcm_Success";break;case"FD207":r="cmcm_MultipleStatusCodes";break;case"FD400":r="cmcm_BadRequest";break;case"FD500":r="cmcm_ServerError";break;case"FD401":r="cmcm_UnauthorizedAccess";break;case"FD501":r="cmcm_UnsupportedOperation";break;case"FD412":r="cmcm_LoginRequired";break;case"FD406":r="cmcm_InvalidCredentials";break;case"FD101":r="cmcm_ValidUserNameRequired";break;case"FD102":r="cmcm_ValidPasswordRequired";break;case"FD103":r="cmcm_ValidNameRequired";break;case"FD104":r="cmcm_ValidDescriptionRequired";break;case"FD105":r="cmcm_ValidIdRequired";break;case"FD106":r="cmcm_ValidIdsRequired";break;case"FD107":r="cmcm_ValidPageRequired";break;case"FD108":r="cmcm_ValidPageSizeRequired";break;case"FD109":r="cmcm_ValidSortByRequired";break;case"FD110":r="cmcm_NameNotAvailable";break;case"FD111":r="cmcm_RoleIsInUse";break;case"FD112":r="cmcm_RoleNotFound";break;case"FD113":r="cmcm_CodeNotAvailable";break;case"FD114":r="cmcm_ValidCodeRequired";break;case"FD115":r="cmcm_ValidAddress1Required";break;case"FD116":r="cmcm_ValidAddress2Required";break;case"FD117":r="cmcm_ValidAddress3Required";break;case"FD118":r="cmcm_ValidAddress4Required";break;case"FD119":r="cmcm_ValidZipRequired";break;case"FD120":r="cmcm_BranchNotFound";break;case"FD121":r="cmcm_DepartmentNotFound";break;case"FD122":r="cmcm_ValidFirstNameRequired";break;case"FD123":r="cmcm_ValidMiddleNameRequired";break;case"FD124":r="cmcm_ValidLastNameRequired";break;case"FD125":r="cmcm_ValidEmailRequired";break;case"FD126":r="cmcm_ValidTimeZoneRequired";break;case"FD127":r="cmcm_ValidActivationDateRequired";break;case"FD128":r="cmcm_ValidDateFormatRequired";break;case"FD129":r="cmcm_UserNameNotAvailable";break;case"FD130":r="cmcm_EmailIdNotAvailable";break;case"FD131":r="cmcm_UserNotFound";break;default:r="cmcm_UnknownError"}return r}function d(e){return r.get("data/menu-data.json").then(function(r){var t=e?r.data[e]:r.data;return t}).catch(function(e){return e})}var m,p={};return p.getLanguage=n,p.setLanguage=a,p.getCss=o,p.setCss=i,p.getTranslation=c,p.getLanguagesAvailable=s,p.errorHandler=u,p.loadSideMenu=d,p}angular.module("app.core.module").factory("utils",e),e.$inject=["$q","$http","$localStorage"]}(),function(){"use strict";function e(){var e=this;e.status=!0}angular.module("dashboard.module").controller("DashboardController",e),e.$inject=[]}(),function(){"use strict";function e(){var e={};return e}angular.module("dashboard.module").factory("dashboardService",e),e.$inject=[]}(),function(){"use strict";function e(e){function r(){t.currentUser=e.populateCurrentUserObj()}var t=this;t.currentUser={},r()}angular.module("headerArea.module").controller("HeaderAreaController",e),e.$inject=["headerAreaService"]}(),function(){"use strict";function e(e){function r(){return e.getAllCurrentUserProfile()}var t={};return t.populateCurrentUserObj=r,t}angular.module("headerArea.module").factory("headerAreaService",e),e.$inject=["userService"]}(),function(){"use strict";function e(e,r,t,n,a){function o(){var e=n.getLanguage();p.selectedLanguage=p.languagesAvailable.find(function(r){return r.langCode===e}),i(e)}function i(e){n.getTranslation(e).then(c).catch(l)}function c(e){p.translation=e}function l(e){t.error(p.translation.cmcm_TranslationLoadError)}function s(){var e=r.validateLoginForm(p.user);e&&r.requestLogin(p.user).then(u).catch(d)}function u(t){r.saveCurrentUserProfile(t.items[0]),e.go("root.dashboard")}function d(e){var n=r.getErrorTranslationValue(e.header.responseCode);t.error(n,"Login Error")}function m(){var e=p.selectedLanguage.langCode;n.setLanguage(e),i(e),a.$parent.app.css=p.selectedLanguage.css,n.setCss(p.selectedLanguage.css)}var p=this;p.user={name:"",password:""},p.translation={},p.languagesAvailable=n.getLanguagesAvailable(),p.selectedLanguage=null,p.onLoginSubmit=s,p.onLanguageChange=m,o()}angular.module("login.module").controller("LoginController",e),e.$inject=["$state","loginService","toastr","utils","$scope"]}(),function(){"use strict";function e(e,r,t,n){function a(e){var r=!(!e.name.trim()||!e.password.trim());return r}function o(t){var n={userName:t.name,Password:t.password},a=r.apiBase+r.login;return e.post(a,n)}function i(e){n.saveCurrentUserProfile(e)}function c(e){return t.errorHandler(e)}var l={};return l.validateLoginForm=a,l.requestLogin=o,l.saveCurrentUserProfile=i,l.getErrorTranslationValue=c,l}angular.module("login.module").factory("loginService",e),e.$inject=["$http","webServiceURL","utils","userService"]}(),function(){"use strict";function e(e,r,t){function n(){a(),e.getSidenavItems().then(T)}function a(){o()}function o(){e.loadRoleList(B.searchOptions).then(i).catch(c)}function i(e){B.roleList=e.items,B.searchOptions.totalItems=e.totalNumPages}function c(r){var n=e.getErrorTranslationValue(r.header.responseCode);t.error(n,"Error at listing Role")}function l(e){B.deletePopupData=s(),B.deletePopupData.successResult=e.id,B.deletePopupData.description="Do you want to delete this role ("+e.name+")?";var t=r.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"js/modules/common/confirmDialog/confirm.dialog.template.html",controller:"ModalInstanceCtrl",controllerAs:"$ctrl",size:"sm",resolve:{dialogData:function(){return B.deletePopupData}}});t.result.then(u)}function s(){var e={headingText:"Delete Role",confirmText:"Yes",cancelText:"No",description:"",successResult:"",cancelResult:"cancel"};return e}function u(r){var t={ids:[r]};e.deleteRole(t).then(d).catch(m)}function d(e){console.log(e),t.success("Deleted the role","Delete Role"),o()}function m(r){var n=e.getErrorTranslationValue(r.header.responseCode);t.error(n,"Error at listing Role")}function p(r){var t={id:r.id};e.loadRoleDetails(t).then(f).catch(g)}function f(e){B.updateRolePopupData.item=e.items[0];var t=r.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"js/modules/role/create-update/role.create.update.template.html",controller:"RoleUpdateController",controllerAs:"roleDialog",size:"md",resolve:{dialogData:function(){return B.updateRolePopupData}}});t.result.then(h)}function g(r){console.log(r);var n=e.getErrorTranslationValue(r.header.responseCode);t.error(n,"Error at loading Role details")}function h(){o()}function v(){var e={headingText:"Update Role",confirmText:"Update",cancelText:"Cancel",description:"",successResult:"",cancelResult:"cancel",currentPermissions:[],item:null,mode:"update",translation:null};return e}function b(){B.createRolePopupData.item={name:"",description:"",privileges:""};var e=r.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"js/modules/role/create-update/role.create.update.template.html",controller:"RoleUpdateController",controllerAs:"roleDialog",size:"md",resolve:{dialogData:function(){return B.createRolePopupData}}});e.result.then(D)}function D(){o()}function R(){var e={headingText:"Create Role",confirmText:"Create",cancelText:"Cancel",description:"",successResult:"",cancelResult:"cancel",currentPermissions:[],item:null,mode:"create",translation:null};return e}function C(){var e=B.idList.split(/\s*,\s*/).map(function(e){return parseInt(e.trim(),10)}).filter(function(e){return!isNaN(e)}).join(",");B.searchOptions.createdByUserIds=e||void 0,o()}function A(){var e=new Date,r=new Date(e);r.setFullYear(r.getFullYear()-1);var t={totalItems:0,page:1,pageSize:30,sortBy:"name",sortOrder:"A",searchText:"",createdDateFrom:r,createdDateTo:e,createdByUserIds:[]};return t}function P(){var e={isOpen:!1,dateCreatedFromIsOpen:!1,dateCreatedToIsOpen:!1};return e}function T(e){B.itemTree=e,B.selectedFolder=B.itemTree[0]}var B=this;B.roleList=[],B.isExpandedState=!0,B.deletePopupData={},B.updateRolePopupData=v(),B.createRolePopupData=R(),B.searchOptions=A(),B.advSearch=P(),B.idList="",B.onDeleteRoleInitiate=l,B.onUpdateRoleInitiate=p,B.onCreateRoleInitiate=b,B.loadRoleData=C,n()}angular.module("role.module").controller("RoleController",e),e.$inject=["roleService","$uibModal","toastr"]}(),function(){"use strict";function e(e,r,t,n){function a(t){var n=r.apiBase+r.roleList;return e.get(n,{params:t})}function o(t){var n=r.apiBase+r.roledelete;return e.post(n,t)}function i(t){var n=r.apiBase+r.roleCreate;return e.post(n,t)}function c(t){var n=r.apiBase+r.roleUpdate;return e.post(n,t)}function l(t){var n=r.apiBase+r.roleDetails;return e.get(n,t)}function s(e){var r=e.split(","),t={unselected:{},selected:{}};for(var a in n)r.indexOf(a)<0?t.selected[a]=!1:t.unselected[a]=!1;return t}function u(){return t.loadSideMenu("administration")}function d(e){return t.errorHandler(e)}var m={};return m.loadRoleList=a,m.loadRoleDetails=l,m.createRole=i,m.updateRole=c,m.deleteRole=o,m.getPermissionArray=s,m.getSidenavItems=u,m.getErrorTranslationValue=d,m}angular.module("role.module").factory("roleService",e),e.$inject=["$http","webServiceURL","utils","permissions"]}(),function(){"use strict";function e(e,r,t,n,a){function o(){var e=!(!v.branch.name||!v.branch.description);return e}function i(e,r,t){if(Object.keys(e).length)for(var n in e)e.hasOwnProperty(n)&&(e[n]||t)&&(r[n]=!1,delete e[n])}function c(){v.activeTab=1}function l(){e.dismiss(v.data.cancelResult)}function s(){"create"===D?u():p()}function u(){var e=h(v.selectedPermissions),r={name:v.branch.name,description:v.branch.description,privileges:e};console.log(r),a.createBranch(r).then(d).catch(m)}function d(){e.close(),t.success("Success","Creating Branch")}function m(e){console.log(e);var r=a.getErrorTranslationValue(e.header.responseCode);t.error(r,"Error in creating Branch")}function p(){var e=h(v.selectedPermissions),r={id:v.data.item.id,name:v.branch.name,description:v.branch.description,privileges:e};console.log(r),a.updateBranch(r).then(f).catch(g)}function f(){e.close(),t.success("Success","Updating Branch")}function g(e){console.log(e);var r=a.getErrorTranslationValue(e.header.responseCode);t.error(r,"Error in updating Branch")}function h(e){var r="",t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.length&&(r=t.join(",")),r}var v=this;v.activeTab=0,v.data=r,v.branch={name:r.item.name,description:r.item.description};var b=a.getPermissionArray(r.item.privileges),D=r.mode;v.unselectedPermissions=b.selected,v.selectedPermissions=b.unselected,v.validateBranchDetail=o,v.movePermissions=i,v.createUpdateBranch=s,v.nextTab=c,v.cancel=l}angular.module("app.core.module").controller("BranchUpdateController",e),e.$inject=["$uibModalInstance","dialogData","toastr","utils","branchService"]}(),function(){"use strict";function e(e,r){var t=this;t.data=r,t.ok=function(){e.close(t.data.successResult)},t.cancel=function(){e.dismiss(t.data.cancelResult)}}angular.module("app.core.module").controller("ModalInstanceCtrl",e),e.$inject=["$uibModalInstance","dialogData"]}(),function(){"use strict";function e(e,r,t){function n(t,n,a,o){function i(e){e.stopPropagation(),o.isOpen=!o.isOpen,o.isOpen?c.children(".menu-tree").slideDown():(t.$emit("folderOpened"),c.children(".menu-tree").slideUp())}var c=r(n);o.toggleOpenState=i,angular.isArray(t.branch.item.children)&&e('<tree collection="branch.item.children" selected-folder="tree.selectedFolder"></tree>')(t,function(e){n.append(e)})}function a(e){function r(r){r.hasOwnProperty("sref")?t.go(r.sref):e.$emit("folderSelectFromTree",r)}function n(r,t){t===i.item?(i.isActive=!0,i.isOpen=!0,e.$emit("folderOpened")):i.isActive=!1}function a(){}function o(){var e=!1;return angular.forEach(i.item.children,function(r){"Folder"===r.type&&(e=!0)}),e}var i=this;i.isActive=i.item===i.selectedFolder,i.isOpen=!1,i.onItemClick=r,i.hasInnerFolder=o(),e.$on("folderSelectFromExplorer",n),e.$on("folderOpened",a)}var o={replace:!0,restrict:"E",scope:{item:"=",selectedFolder:"="},templateUrl:"js/modules/common/tree/branch.directive.template.html",link:n,controller:a,controllerAs:"branch",bindToController:!0};return a.$inject=["$scope"],o}angular.module("app.core.module").directive("branch",e),e.$inject=["$compile","jQuery","$state"]}(),function(){"use strict";function e(e){function r(r,t){var n=e(t);t.on("click",function(){n.hasClass("active")?n.siblings(".menu-tree").slideDown():n.siblings(".menu-tree").slideUp()})}var t={restrict:"A",link:r};return t}angular.module("app.core.module").directive("slideToggle",e),e.$inject=["jQuery"]}(),function(){"use strict";function e(){function e(e,r){r.on("click",function(e){e.stopPropagation()})}function r(){}var t={replace:!0,restrict:"A",scope:{collection:"="},link:e,controller:r,controllerAs:"stopPropagation",bindToController:!0};return t}angular.module("app.core.module").directive("stopPropagation",e)}(),function(){"use strict";function e(){function e(){}function r(){}var t={replace:!0,restrict:"E",scope:{collection:"=",selectedFolder:"="},templateUrl:"js/modules/common/tree/tree.directive.template.html",link:e,controller:r,controllerAs:"tree",bindToController:!0};return t}angular.module("app.core.module").directive("tree",e)}(),function(){"use strict";function e(e,r,t,n,a){function o(){var e=!(!v.role.name||!v.role.description);return e}function i(e,r,t){if(Object.keys(e).length)for(var n in e)e.hasOwnProperty(n)&&(e[n]||t)&&(r[n]=!1,delete e[n])}function c(){v.activeTab=1}function l(){e.dismiss(v.data.cancelResult)}function s(){"create"===D?u():p()}function u(){var e=h(v.selectedPermissions),r={name:v.role.name,description:v.role.description,privileges:e};console.log(r),a.createRole(r).then(d).catch(m)}function d(){e.close(),t.success("Success","Creating Role")}function m(e){console.log(e);var r=a.getErrorTranslationValue(e.header.responseCode);t.error(r,"Error in creating Role")}function p(){var e=h(v.selectedPermissions),r={id:v.data.item.id,name:v.role.name,description:v.role.description,privileges:e};console.log(r),a.updateRole(r).then(f).catch(g)}function f(){e.close(),t.success("Success","Updating Role")}function g(e){console.log(e);var r=a.getErrorTranslationValue(e.header.responseCode);t.error(r,"Error in updating Role")}function h(e){var r="",t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.length&&(r=t.join(",")),r}var v=this;v.activeTab=0,v.data=r,v.role={name:r.item.name,description:r.item.description};var b=a.getPermissionArray(r.item.privileges),D=r.mode;v.unselectedPermissions=b.selected,v.selectedPermissions=b.unselected,v.validateRoleDetail=o,v.movePermissions=i,v.createUpdateRole=s,v.nextTab=c,v.cancel=l}angular.module("app.core.module").controller("RoleUpdateController",e),e.$inject=["$uibModalInstance","dialogData","toastr","utils","roleService"]}();
//# sourceMappingURL=main.min.js.map
