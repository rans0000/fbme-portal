{"version":3,"sources":["app.core.module.js","app.controller.js","app.core.constants.js","dashboard/dashboard.module.js","headerArea/headerArea.module.js","login/login.module.js","role/role.module.js","common/user.service.js","common/utils.service.js","dashboard/dashboard.controller.js","dashboard/dashboard.service.js","headerArea/headerArea.controller.js","headerArea/headerArea.service.js","login/login.controller.js","login/login.service.js","role/role.controller.js","role/role.service.js","common/confirmDialog/confirm.dialog.controller.js","common/tree/branch.directive.js","common/tree/slide.toggle.directive.js","common/tree/stop.propagation.directve.js","common/tree/tree.directive.js","role/create-update/role.create.update.controller.js"],"names":["httpProviderConfiguration","$httpProvider","defaults","headers","post","paramSerializer","routerConfiguration","$stateProvider","$urlRouterProvider","otherwise","interceptors","push","state","url","templateUrl","controller","controllerAs","abstract","views","","headerArea@root","httpRequestInterceptor","$q","webServiceURL","interceptResponseSuccess","response","returnValue","config","startsWith","apiBase","data","header","responseCode","reject","body","interceptResponseError","errObj","status","message","statusText","requestUrl","interceptObject","responseError","jQueryService","jQuery","debugConfiguration","$compileProvider","debugInfoEnabled","angular","module","factory","$inject","AppController","utils","vm","this","css","getCss","getWebServiceURL","temp","login","roleList","roleDetails","roleCreate","roleUpdate","roledelete","getPermissions","PERSONAL_DOCS","ADMIN","COLLABORATION_ADMIN","ROLE_MANAGEMENT","BRANCH_MANAGEMENT","DEPARTMENT_MANAGEMENT","SETTINGS_MANAGEMENT","USER_MANAGEMENT","USER_GROUP_MANAGEMENT","constant","userService","saveCurrentUserProfile","userProfile","currentUserProfile","copy","privilegeArray","privileges","split","getAllCurrentUserProfile","getCurrentUserProfile","property","value","hasOwnProperty","hasPermission","permissionString","isValid","indexOf","userObj","utilsFactory","$http","$localStorage","getLanguage","lang","setLanguage","setCss","getTranslation","allTranslations","resolve","loadTranslation","get","then","translation","catch","error","getLanguagesAvailable","name","langCode","direction","errorHandler","errorCode","errStr","utilsObj","DashboardController","dashboardService","dashObject","HeaderAreaController","headerAreaService","init","currentUser","populateCurrentUserObj","headerObj","LoginController","$state","loginService","toastr","$scope","selectedLanguage","languagesAvailable","find","item","onGetTranslationSuccess","onGetTranslationError","console","log","cmcm_TranslationLoadError","onLoginSubmit","validateLoginForm","user","requestLogin","onLoginSuccess","onLoginError","items","go","errorTranslation","getErrorTranslationValue","onLanguageChange","$parent","app","password","requestObj","trim","obj","userName","Password","errorcode","loginObj","RoleController","roleService","$uibModal","onAllAPISuccess","loadRoleList","searchOptions","onLoadRoleListSuccess","onLoadRoleListError","totalItems","totalNumPages","onDeleteRoleInitiate","roleItem","deletePopupData","getDeletePopupData","successResult","id","description","modalInstance","open","ariaLabelledBy","ariaDescribedBy","dialogData","result","deleteRole","headingText","confirmText","cancelText","cancelResult","roleId","ids","onDeleteRoleSuccess","onDeleteRoleError","success","onUpdateRoleInitiate","loadRoleDetails","onLoadRoleDetailsSuccess","onLoadRoleDetailsError","updateRolePopupData","size","onUpdateRoleSuccess","getUpdateRolePopupData","currentPermissions","mode","onCreateRoleInitiate","createRolePopupData","onCreateRoleSuccess","getCreateRolePopupData","loadRoleData","idList","map","parseInt","filter","isNaN","join","createdByUserIds","undefined","getSearchOptions","nowDate","Date","fromDate","setFullYear","getFullYear","page","pageSize","sortBy","sortOrder","searchText","createdDateFrom","createdDateTo","getAdvSearchOptions","isOpen","dateCreatedFromIsOpen","dateCreatedToIsOpen","isExpandedState","itemTree","getSidenavItems","selectedFolder","advSearch","permissions","params","createRole","updateRole","getPermissionArray","returObj","unselected","selected","key","title","type","children","roleObject","ModalInstanceCtrl","$uibModalInstance","ok","close","cancel","dismiss","branchDirective","$compile","$","branchLink","scope","element","attributes","ctrl","toggleOpenState","event","stopPropagation","$element","slideDown","$emit","slideUp","isArray","branch","cloned","append","BranchController","onItemClick","onFolderSelect","isActive","folderOpenedLitener","checkForInnerFolder","hasFolder","forEach","hasInnerFolder","$on","directiveObject","replace","restrict","link","bindToController","directive","slideToggleDirective","slideToggleLink","on","hasClass","siblings","stopPropagationDirective","stopPropagationLink","TreeController","collection","treeDirective","treeLink","RoleUpdateController","validateRoleDetail","role","movePermissions","item1","item2","forceMove","Object","keys","length","nextTab","activeTab","createUpdateRole","createPermissionString","selectedPermissions","onCreateRoleError","onUpdateRoleError","Obj","permissionList","unselectedPermissions"],"mappings":"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","file":"main.min.js","sourcesContent":["/*jshint browser: true*/\r\n/*global angular: true*/\r\n/*global jQuery: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('app.core.module', [\r\n        'ui.router',\r\n        'ui.bootstrap',\r\n        'toastr',\r\n        'ngStorage',\r\n        'headerArea.module',\r\n        'ui.bootstrap.contextMenu',\r\n        'login.module',\r\n        'dashboard.module',\r\n        'role.module'\r\n    ])\r\n        .config(httpProviderConfiguration)\r\n        .config(routerConfiguration)\r\n        .config(debugConfiguration)\r\n        .factory('httpRequestInterceptor', httpRequestInterceptor)\r\n        .factory('jQuery', jQueryService);\r\n\r\n    httpProviderConfiguration.$inject = ['$httpProvider'];\r\n    function httpProviderConfiguration ($httpProvider) {\r\n        $httpProvider.defaults.headers.post[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\r\n        $httpProvider.defaults.paramSerializer = '$httpParamSerializerJQLike';\r\n    }\r\n\r\n    routerConfiguration.$inject = ['$stateProvider', '$urlRouterProvider', '$httpProvider'];\r\n    function routerConfiguration ($stateProvider, $urlRouterProvider, $httpProvider) {\r\n        $urlRouterProvider.otherwise('/login');\r\n        $httpProvider.interceptors.push('httpRequestInterceptor');\r\n\r\n        $stateProvider\r\n            .state('login', {\r\n            url: '/login',\r\n            templateUrl: 'js/modules/login/login.template.html',\r\n            controller: 'LoginController',\r\n            controllerAs: 'login'\r\n        })\r\n            .state('root', {\r\n            abstract: true,\r\n            views: {\r\n                '': {\r\n                    templateUrl: 'js/modules/contentArea/contentArea.template.html'\r\n                },\r\n                'headerArea@root': {\r\n                    templateUrl: 'js/modules/headerArea/headerArea.template.html',\r\n                    controller: 'HeaderAreaController',\r\n                    controllerAs: 'header'\r\n                }\r\n            }\r\n        })\r\n            .state('dashboard', {\r\n            url: '/dashboard',\r\n            templateUrl: 'js/modules/dashboard/dashboard.template.html',\r\n            controller: 'DashboardController',\r\n            controllerAs: 'vm'\r\n        });\r\n    }\r\n\r\n    httpRequestInterceptor.$inject = ['$q', 'webServiceURL'];\r\n    function httpRequestInterceptor ($q, webServiceURL) {\r\n        var interceptObject = {};\r\n        //interceptObject.request = interceptRequest;\r\n        interceptObject.response = interceptResponseSuccess;\r\n        interceptObject.responseError = interceptResponseError;\r\n        return interceptObject;\r\n\r\n        function interceptResponseSuccess (response) {\r\n            var returnValue = response;\r\n            if(response.config.url.startsWith(webServiceURL.apiBase)){\r\n                //response.data.header.responseCode is FD200 for success\r\n                if(response.data.header && response.data.header.responseCode !== 'FD200'){\r\n                    returnValue = $q.reject(response.data);\r\n                }\r\n                else{\r\n                    returnValue = response.data.body? response.data.body : {};\r\n                }\r\n            }\r\n            return returnValue;\r\n        }\r\n\r\n        function interceptResponseError (response) {\r\n            var errObj = {\r\n                header: {\r\n                    responseCode: response.status,\r\n                    message: response.statusText,\r\n                    requestUrl: response.config.url\r\n                }\r\n            };\r\n            return $q.reject(errObj);\r\n        }\r\n    }\r\n\r\n    function jQueryService () {\r\n        return jQuery;\r\n    }\r\n\r\n    debugConfiguration.$inject = ['$compileProvider'];\r\n    function debugConfiguration ($compileProvider) {\r\n        $compileProvider.debugInfoEnabled(false);\r\n    }\r\n\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('app.core.module')\r\n        .controller('AppController', AppController);\r\n\r\n    AppController.$inject = ['utils'];\r\n    function AppController (utils) {\r\n        var vm = this;\r\n        vm.css = utils.getCss();\r\n    }\r\n\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('app.core.module')\r\n        .constant('webServiceURL', getWebServiceURL())\r\n        .constant('permissions', getPermissions());\r\n\r\n    function getWebServiceURL () {\r\n        var temp = {\r\n            apiBase: 'http://localhost:8090/FDocs/api/',\r\n            login: 'auth/login.json',\r\n            roleList: 'role/list.json',\r\n            roleDetails: 'role/details.json',\r\n            roleCreate: 'role/create.json',\r\n            roleUpdate: 'role/update.json',\r\n            roledelete: 'role/delete.json'\r\n        };\r\n        return temp;\r\n    }\r\n\r\n    function getPermissions () {\r\n        var temp = {\r\n            PERSONAL_DOCS: 1,\r\n            ADMIN: 2,\r\n            COLLABORATION_ADMIN: 4,\r\n            ROLE_MANAGEMENT: 8,\r\n            BRANCH_MANAGEMENT: 16,\r\n            DEPARTMENT_MANAGEMENT: 32,\r\n            SETTINGS_MANAGEMENT: 64,\r\n            USER_MANAGEMENT: 128,\r\n            USER_GROUP_MANAGEMENT: 256\r\n        };\r\n        return temp;\r\n    }\r\n\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('dashboard.module', []);\r\n})();\r\n","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('headerArea.module', []);\r\n})();\r\n","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('login.module', []);\r\n})();\r\n","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('role.module', [])\r\n        .config(routerConfiguration);\r\n\r\n    routerConfiguration.$inject = ['$stateProvider'];\r\n    function routerConfiguration ($stateProvider) {\r\n        $stateProvider\r\n            .state('root.role', {\r\n            url: '/role',\r\n            templateUrl: 'js/modules/role/role.template.html',\r\n            controller: 'RoleController',\r\n            controllerAs: 'role'\r\n        });\r\n    }\r\n})();\r\n","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('app.core.module')\r\n        .factory('userService', userService);\r\n\r\n    function userService () {\r\n        var userObj = {};\r\n        var currentUserProfile;\r\n\r\n        userObj.saveCurrentUserProfile = saveCurrentUserProfile;\r\n        userObj.getAllCurrentUserProfile = getAllCurrentUserProfile;\r\n        userObj.getCurrentUserProfile = getCurrentUserProfile;\r\n        userObj.hasPermission = hasPermission;\r\n\r\n        return userObj;\r\n\r\n        //--------------------------------------\r\n        //function declarations\r\n\r\n        function saveCurrentUserProfile (userProfile) {\r\n            currentUserProfile = angular.copy(userProfile);\r\n            currentUserProfile.privilegeArray = currentUserProfile.privileges.split(',');\r\n            userProfile = null;\r\n        }\r\n        \r\n        function getAllCurrentUserProfile () {\r\n            return angular.copy(currentUserProfile);\r\n        }\r\n        \r\n        function getCurrentUserProfile (property) {\r\n            var value;\r\n            if(currentUserProfile.hasOwnProperty){\r\n                value = currentUserProfile[property];\r\n            }\r\n            else{\r\n                throw {message: 'Missing property in Current user profile'};\r\n            }\r\n            return value;\r\n        }\r\n        \r\n        function hasPermission (permissionString) {\r\n            var isValid = (currentUserProfile.privilegeArray.indexOf(permissionString) === -1)? false: true;\r\n            return isValid;\r\n        }\r\n    }\r\n\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('app.core.module')\r\n        .factory('utils', utilsFactory);\r\n\r\n    utilsFactory.$inject = ['$q', '$http', '$localStorage'];\r\n    function utilsFactory ($q, $http, $localStorage) {\r\n        var utilsObj = {};\r\n        var allTranslations;\r\n        utilsObj.getLanguage = getLanguage;\r\n        utilsObj.setLanguage = setLanguage;\r\n        utilsObj.getCss = getCss;\r\n        utilsObj.setCss = setCss;\r\n        utilsObj.getTranslation = getTranslation;\r\n        utilsObj.getLanguagesAvailable = getLanguagesAvailable;\r\n        utilsObj.errorHandler = errorHandler;\r\n        return utilsObj;\r\n\r\n        //--------------------------------------\r\n        //function declarations\r\n\r\n        function getLanguage () {\r\n            $localStorage.lang = $localStorage.lang || 'en-US';\r\n            return $localStorage.lang;\r\n        }\r\n\r\n        function setLanguage (lang) {\r\n            $localStorage.lang = lang;\r\n        }\r\n        \r\n        function getCss () {\r\n            $localStorage.css = $localStorage.css || 'lang-en';\r\n            return $localStorage.css;\r\n        }\r\n        \r\n        function setCss (css) {\r\n            $localStorage.css = css;\r\n        }\r\n\r\n        function getTranslation (lang) {\r\n            var temp = allTranslations? $q.resolve(allTranslations) : loadTranslation(lang);\r\n            return temp;\r\n        }\r\n        function loadTranslation (lang) {\r\n            var url = 'data/translations/translations.all-' + lang + '.json';\r\n            return $http.get(url)\r\n                .then(function (response) {\r\n                return response.data.translation;\r\n            })\r\n                .catch(function (error) {\r\n                return $q.reject(error);\r\n            });\r\n        }\r\n\r\n        function getLanguagesAvailable () {\r\n            return [\r\n                {name: 'English', langCode: 'en-US', css: 'lang-en', direction: 'ltr'},\r\n                {name: 'العَرَبِيَّة', langCode: 'ar', css: 'lang-ar', direction: 'rtl'}\r\n            ];\r\n        }\r\n\r\n        function errorHandler (errorCode) {\r\n            var errStr;\r\n            switch(errorCode){\r\n                case 'FD200': errStr = 'cmcm_Success';break;\r\n                case 'FD207': errStr = 'cmcm_MultipleStatusCodes';break;\r\n                case 'FD400': errStr = 'cmcm_BadRequest';break;\r\n                case 'FD500': errStr = 'cmcm_ServerError';break;\r\n                case 'FD401': errStr = 'cmcm_UnauthorizedAccess';break;\r\n                case 'FD501': errStr = 'cmcm_UnsupportedOperation';break;\r\n                case 'FD412': errStr = 'cmcm_LoginRequired';break;\r\n                case 'FD406': errStr = 'cmcm_InvalidCredentials';break;\r\n                case 'FD101': errStr = 'cmcm_ValidUserNameRequired';break;\r\n                case 'FD102': errStr = 'cmcm_ValidPasswordRequired';break;\r\n                case 'FD103': errStr = 'cmcm_ValidNameRequired';break;\r\n                case 'FD104': errStr = 'cmcm_ValidDescriptionRequired';break;\r\n                case 'FD105': errStr = 'cmcm_ValidIdRequired';break;\r\n                case 'FD106': errStr = 'cmcm_ValidIdsRequired';break;\r\n                case 'FD107': errStr = 'cmcm_ValidPageRequired';break;\r\n                case 'FD108': errStr = 'cmcm_ValidPageSizeRequired';break;\r\n                case 'FD109': errStr = 'cmcm_ValidSortByRequired';break;\r\n                case 'FD110': errStr = 'cmcm_NameNotAvailable';break;\r\n                case 'FD111': errStr = 'cmcm_RoleIsInUse';break;\r\n                case 'FD112': errStr = 'cmcm_RoleNotFound';break;\r\n                case 'FD113': errStr = 'cmcm_CodeNotAvailable';break;\r\n                case 'FD114': errStr = 'cmcm_ValidCodeRequired';break;\r\n                case 'FD115': errStr = 'cmcm_ValidAddress1Required';break;\r\n                case 'FD116': errStr = 'cmcm_ValidAddress2Required';break;\r\n                case 'FD117': errStr = 'cmcm_ValidAddress3Required';break;\r\n                case 'FD118': errStr = 'cmcm_ValidAddress4Required';break;\r\n                case 'FD119': errStr = 'cmcm_ValidZipRequired';break;\r\n                case 'FD120': errStr = 'cmcm_BranchNotFound';break;\r\n                case 'FD121': errStr = 'cmcm_DepartmentNotFound';break;\r\n                case 'FD122': errStr = 'cmcm_ValidFirstNameRequired';break;\r\n                case 'FD123': errStr = 'cmcm_ValidMiddleNameRequired';break;\r\n                case 'FD124': errStr = 'cmcm_ValidLastNameRequired';break;\r\n                case 'FD125': errStr = 'cmcm_ValidEmailRequired';break;\r\n                case 'FD126': errStr = 'cmcm_ValidTimeZoneRequired';break;\r\n                case 'FD127': errStr = 'cmcm_ValidActivationDateRequired';break;\r\n                case 'FD128': errStr = 'cmcm_ValidDateFormatRequired';break;\r\n                case 'FD129': errStr = 'cmcm_UserNameNotAvailable';break;\r\n                case 'FD130': errStr = 'cmcm_EmailIdNotAvailable';break;\r\n                case 'FD131': errStr = 'cmcm_UserNotFound';break;\r\n                default: errStr = 'cmcm_UnknownError';break;\r\n            }\r\n            return errStr;\r\n        }\r\n    }\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('dashboard.module')\r\n        .controller('DashboardController', DashboardController);\r\n\r\n    DashboardController.$inject = [];\r\n\r\n    function DashboardController () {\r\n\r\n        var vm = this;\r\n        vm.status = true;\r\n\r\n        //--------------------------------------\r\n        //function declarations\r\n    }\r\n})();\r\n","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n    angular.module('dashboard.module')\r\n        .factory('dashboardService', dashboardService);\r\n\r\n    dashboardService.$inject = [];\r\n\r\n    function dashboardService () {\r\n        var dashObject = {};\r\n        return dashObject;\r\n    }\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('headerArea.module')\r\n        .controller('HeaderAreaController', HeaderAreaController);\r\n\r\n    HeaderAreaController.$inject = ['headerAreaService'];\r\n\r\n    function HeaderAreaController (headerAreaService) {\r\n\r\n        var vm = this;\r\n        vm.currentUser = {};\r\n        \r\n        init();\r\n\r\n        //--------------------------------------\r\n        //function declarations\r\n        \r\n        function init () {\r\n            vm.currentUser = headerAreaService.populateCurrentUserObj();\r\n        }\r\n    }\r\n})();\r\n","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n    angular.module('headerArea.module')\r\n        .factory('headerAreaService', headerAreaService);\r\n\r\n    headerAreaService.$inject = ['userService'];\r\n\r\n    function headerAreaService (userService) {\r\n        var headerObj = {};\r\n        headerObj.populateCurrentUserObj = populateCurrentUserObj;\r\n        return headerObj;\r\n        \r\n        //--------------------------------------\r\n        //function declarations\r\n        \r\n        function populateCurrentUserObj () {\r\n            return userService.getAllCurrentUserProfile();\r\n        }\r\n        \r\n    }\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('login.module')\r\n        .controller('LoginController', LoginController);\r\n\r\n    LoginController.$inject = ['$state', 'loginService', 'toastr', 'utils', '$scope'];\r\n\r\n    function LoginController ($state, loginService, toastr, utils, $scope) {\r\n\r\n        var vm = this;\r\n        vm.user ={\r\n            name: '',\r\n            password: ''\r\n        };\r\n        vm.translation = {};\r\n        vm.languagesAvailable = utils.getLanguagesAvailable();\r\n        vm.selectedLanguage = null;\r\n\r\n        vm.onLoginSubmit = onLoginSubmit;\r\n        vm.onLanguageChange = onLanguageChange;\r\n\r\n        init();\r\n\r\n        //--------------------------------------\r\n        //function declarations\r\n\r\n        function init () {\r\n            var lang = utils.getLanguage();\r\n            vm.selectedLanguage = vm.languagesAvailable.find(function (item) {\r\n                return item.langCode === lang;\r\n            });\r\n            loadTranslation(lang);\r\n        }\r\n\r\n        function loadTranslation (lang) {\r\n            utils.getTranslation(lang)\r\n                .then(onGetTranslationSuccess)\r\n                .catch(onGetTranslationError);\r\n        }\r\n\r\n        function onGetTranslationSuccess (response) {\r\n            console.log(response);\r\n            vm.translation = response;\r\n        }\r\n\r\n        function onGetTranslationError (error) {\r\n            console.log(error);\r\n            toastr.error(vm.translation.cmcm_TranslationLoadError);\r\n        }\r\n\r\n        function onLoginSubmit () {\r\n            var isValid = loginService.validateLoginForm(vm.user);\r\n            if(isValid){\r\n                loginService.requestLogin(vm.user)\r\n                    .then(onLoginSuccess)\r\n                    .catch(onLoginError);\r\n            }\r\n        }\r\n\r\n        function onLoginSuccess (response) {\r\n            loginService.saveCurrentUserProfile(response.items[0]);\r\n            $state.go('dashboard');\r\n        }\r\n\r\n        function onLoginError (error) {\r\n            var errorTranslation = loginService.getErrorTranslationValue(error.header.responseCode);\r\n            toastr.error(errorTranslation, 'Login Error');\r\n        }\r\n\r\n        function onLanguageChange () {\r\n            var langCode = vm.selectedLanguage.langCode;\r\n            utils.setLanguage(langCode);\r\n            loadTranslation(langCode);\r\n            $scope.$parent.app.css = vm.selectedLanguage.css;\r\n            utils.setCss(vm.selectedLanguage.css);\r\n        }\r\n    }\r\n})();\r\n","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n    angular.module('login.module')\r\n        .factory('loginService', loginService);\r\n\r\n    loginService.$inject = ['$http', 'webServiceURL', 'utils', 'userService'];\r\n\r\n    function loginService ($http, webServiceURL, utils, userService) {\r\n        var loginObj = {};\r\n        loginObj.validateLoginForm = validateLoginForm;\r\n        loginObj.requestLogin = requestLogin;\r\n        loginObj.saveCurrentUserProfile = saveCurrentUserProfile;\r\n        loginObj.getErrorTranslationValue = getErrorTranslationValue;\r\n\r\n        return loginObj;\r\n\r\n        function validateLoginForm (requestObj) {\r\n            var isValid = (requestObj.name.trim() && requestObj.password.trim())? true : false;\r\n            return isValid;\r\n        }\r\n\r\n        function requestLogin (requestObj) {\r\n            var obj = {\r\n                userName: requestObj.name,\r\n                Password: requestObj.password\r\n            };\r\n            var url = webServiceURL.apiBase + webServiceURL.login;\r\n            return $http.post(url, obj);\r\n        }\r\n\r\n        function saveCurrentUserProfile (userProfile) {\r\n            userService.saveCurrentUserProfile(userProfile);\r\n        }\r\n\r\n        function getErrorTranslationValue (errorcode) {\r\n            return utils.errorHandler(errorcode);\r\n        }\r\n\r\n    }\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('role.module')\r\n        .controller('RoleController', RoleController);\r\n\r\n    RoleController.$inject = ['roleService', '$uibModal', 'toastr'];\r\n\r\n    function RoleController (roleService, $uibModal, toastr) {\r\n\r\n        var vm = this;\r\n        vm.roleList = [];\r\n        vm.isExpandedState = true;\r\n        vm.deletePopupData = {};\r\n        vm.updateRolePopupData = getUpdateRolePopupData();\r\n        vm.createRolePopupData = getCreateRolePopupData();\r\n        vm.itemTree = roleService.getSidenavItems();\r\n        vm.selectedFolder = vm.itemTree[0];\r\n        vm.searchOptions = getSearchOptions();\r\n        vm.advSearch = getAdvSearchOptions();\r\n        vm.idList = '';\r\n\r\n        vm.onDeleteRoleInitiate = onDeleteRoleInitiate;\r\n        vm.onUpdateRoleInitiate = onUpdateRoleInitiate;\r\n        vm.onCreateRoleInitiate = onCreateRoleInitiate;\r\n        vm.loadRoleData = loadRoleData;\r\n\r\n        init();\r\n\r\n        //--------------------------------------\r\n        //function declarations\r\n\r\n        function init () {\r\n            onAllAPISuccess();\r\n        }\r\n\r\n        function onAllAPISuccess () {\r\n            loadRoleList();\r\n        }\r\n\r\n        function loadRoleList () {\r\n            roleService.loadRoleList(vm.searchOptions)\r\n                .then(onLoadRoleListSuccess)\r\n                .catch(onLoadRoleListError);\r\n        }\r\n\r\n        function onLoadRoleListSuccess (response) {\r\n            //console.log(response);\r\n            vm.roleList = response.items;\r\n            vm.searchOptions.totalItems = response.totalNumPages;\r\n        }\r\n\r\n        function onLoadRoleListError (error) {\r\n            //console.log(error);\r\n            var errorTranslation = roleService.getErrorTranslationValue(error.header.responseCode);\r\n            toastr.error(errorTranslation, 'Error at listing Role');\r\n        }\r\n\r\n        function onDeleteRoleInitiate (roleItem) {\r\n            vm.deletePopupData = getDeletePopupData();\r\n            vm.deletePopupData.successResult = roleItem.id;\r\n            vm.deletePopupData.description = 'Do you want to delete this role (' + roleItem.name + ')?';\r\n\r\n            var modalInstance = $uibModal.open({\r\n                ariaLabelledBy: 'modal-title',\r\n                ariaDescribedBy: 'modal-body',\r\n                templateUrl: 'js/modules/common/confirmDialog/confirm.dialog.template.html',\r\n                controller: 'ModalInstanceCtrl',\r\n                controllerAs: '$ctrl',\r\n                resolve: {\r\n                    dialogData: function () {\r\n                        return vm.deletePopupData;\r\n                    }\r\n                }\r\n            });\r\n\r\n            modalInstance.result.then(deleteRole);\r\n        }\r\n\r\n        function getDeletePopupData () {\r\n            var temp = {\r\n                headingText: 'Delete Role',\r\n                confirmText: 'Yes',\r\n                cancelText: 'No',\r\n                description: '',\r\n                successResult: '',\r\n                cancelResult: 'cancel'\r\n            };\r\n\r\n            return temp;\r\n        }\r\n\r\n        function deleteRole (roleId) {\r\n            var requestObj = {\r\n                ids: [roleId]\r\n            };\r\n            roleService.deleteRole(requestObj)\r\n                .then(onDeleteRoleSuccess)\r\n                .catch(onDeleteRoleError);\r\n        }\r\n\r\n        function onDeleteRoleSuccess (response) {\r\n            console.log(response);\r\n            toastr.success('Deleted the role', 'Delete Role');\r\n            //reload role table\r\n            loadRoleList();\r\n        }\r\n\r\n        function onDeleteRoleError (error) {\r\n            var errorTranslation = roleService.getErrorTranslationValue(error.header.responseCode);\r\n            toastr.error(errorTranslation, 'Error at listing Role');\r\n        }\r\n\r\n        function onUpdateRoleInitiate (item) {\r\n            var requestObj = {\r\n                id: item.id\r\n            };\r\n            roleService.loadRoleDetails(requestObj)\r\n                .then(onLoadRoleDetailsSuccess)\r\n                .catch(onLoadRoleDetailsError);\r\n        }\r\n\r\n        function onLoadRoleDetailsSuccess (response) {\r\n            vm.updateRolePopupData.item = response.items[0];\r\n            var modalInstance = $uibModal.open({\r\n                ariaLabelledBy: 'modal-title',\r\n                ariaDescribedBy: 'modal-body',\r\n                templateUrl: 'js/modules/role/create-update/role.create.update.template.html',\r\n                controller: 'RoleUpdateController',\r\n                controllerAs: 'roleDialog',\r\n                size: 'sm',\r\n                resolve: {\r\n                    dialogData: function () {\r\n                        return vm.updateRolePopupData;\r\n                    }\r\n                }\r\n            });\r\n\r\n            modalInstance.result.then(onUpdateRoleSuccess);\r\n        }\r\n\r\n        function onLoadRoleDetailsError (error) {\r\n            console.log(error);\r\n            var errorTranslation = roleService.getErrorTranslationValue(error.header.responseCode);\r\n            toastr.error(errorTranslation, 'Error at loading Role details');\r\n        }\r\n\r\n        function onUpdateRoleSuccess () {\r\n            //update tree\r\n            loadRoleList();\r\n        }\r\n\r\n        function getUpdateRolePopupData () {\r\n            var temp = {\r\n                headingText: 'Update Role',\r\n                confirmText: 'Update',\r\n                cancelText: 'Cancel',\r\n                description: '',\r\n                successResult: '',\r\n                cancelResult: 'cancel',\r\n                currentPermissions: [],\r\n                item: null,\r\n                mode: 'update',\r\n                translation: null\r\n            };\r\n\r\n            return temp;\r\n        }\r\n\r\n        function onCreateRoleInitiate () {\r\n            vm.createRolePopupData.item = {\r\n                name: '',\r\n                description: '',\r\n                privileges: ''\r\n            };\r\n            var modalInstance = $uibModal.open({\r\n                ariaLabelledBy: 'modal-title',\r\n                ariaDescribedBy: 'modal-body',\r\n                templateUrl: 'js/modules/role/create-update/role.create.update.template.html',\r\n                controller: 'RoleUpdateController',\r\n                controllerAs: 'roleDialog',\r\n                size: 'sm',\r\n                resolve: {\r\n                    dialogData: function () {\r\n                        return vm.createRolePopupData;\r\n                    }\r\n                }\r\n            });\r\n\r\n            modalInstance.result.then(onCreateRoleSuccess);\r\n        }\r\n\r\n        function onCreateRoleSuccess () {\r\n            //update tree\r\n            loadRoleList();\r\n        }\r\n\r\n        function getCreateRolePopupData () {\r\n            var temp = {\r\n                headingText: 'Create Role',\r\n                confirmText: 'Create',\r\n                cancelText: 'Cancel',\r\n                description: '',\r\n                successResult: '',\r\n                cancelResult: 'cancel',\r\n                currentPermissions: [],\r\n                item: null,\r\n                mode: 'create',\r\n                translation: null\r\n            };\r\n\r\n            return temp;\r\n        }\r\n\r\n        function loadRoleData () {\r\n            var temp = vm.idList\r\n            .split(/\\s*,\\s*/)\r\n            .map(function (item) {\r\n                return parseInt(item.trim(), 10);\r\n            })\r\n            .filter(function (item) {\r\n                return !isNaN(item);\r\n            })\r\n            .join(',');\r\n            vm.searchOptions.createdByUserIds = temp || undefined;\r\n            loadRoleList();\r\n        }\r\n\r\n        function getSearchOptions () {\r\n            var nowDate = new Date();\r\n            var fromDate = new Date(nowDate);\r\n            fromDate.setFullYear(fromDate.getFullYear() - 1);\r\n\r\n            var temp = {\r\n                totalItems: 0,\r\n                page : 1,\r\n                pageSize: 30,\r\n                sortBy: 'name',\r\n                sortOrder: 'A',\r\n                searchText: '',\r\n                createdDateFrom: fromDate,\r\n                createdDateTo: nowDate,\r\n                createdByUserIds: []\r\n            };\r\n            return temp;\r\n        }\r\n\r\n        function getAdvSearchOptions () {\r\n            var temp = {\r\n                isOpen: false,\r\n                dateCreatedFromIsOpen: false,\r\n                dateCreatedToIsOpen: false\r\n            };\r\n            return temp;\r\n        }\r\n    }\r\n})();\r\n","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n    angular.module('role.module')\r\n        .factory('roleService', roleService);\r\n\r\n    roleService.$inject = ['$http', 'webServiceURL', 'utils', 'permissions'];\r\n\r\n    function roleService ($http, webServiceURL, utils, permissions) {\r\n        var roleObject = {};\r\n        roleObject.loadRoleList = loadRoleList;\r\n        roleObject.loadRoleDetails = loadRoleDetails;\r\n        roleObject.createRole = createRole;\r\n        roleObject.updateRole = updateRole;\r\n        roleObject.deleteRole = deleteRole;\r\n        roleObject.getPermissionArray = getPermissionArray;\r\n        roleObject.getSidenavItems = getSidenavItems;\r\n        roleObject.getErrorTranslationValue = getErrorTranslationValue;\r\n\r\n        return roleObject;\r\n\r\n        //--------------------------------------\r\n        //function declarations\r\n\r\n        function loadRoleList (requestObj) {\r\n            var url = webServiceURL.apiBase + webServiceURL.roleList;\r\n            return $http.get(url, {params: requestObj});\r\n        }\r\n\r\n        function deleteRole (requestObj) {\r\n            var url = webServiceURL.apiBase + webServiceURL.roledelete;\r\n            return $http.post(url, requestObj);\r\n        }\r\n\r\n        function createRole (requestObj) {\r\n            var url = webServiceURL.apiBase + webServiceURL.roleCreate;\r\n            return $http.post(url, requestObj);\r\n        }\r\n\r\n        function updateRole (requestObj) {\r\n            var url = webServiceURL.apiBase + webServiceURL.roleUpdate;\r\n            return $http.post(url, requestObj);\r\n        }\r\n\r\n        function loadRoleDetails (requestObj) {\r\n            var url = webServiceURL.apiBase + webServiceURL.roleDetails;\r\n            return $http.get(url, requestObj);\r\n        }\r\n\r\n        function getPermissionArray (privileges) {\r\n            var temp = privileges.split(',');\r\n            var returObj = {\r\n                unselected: {},\r\n                selected: {}\r\n            };\r\n            for(var key in permissions){\r\n                if(temp.indexOf(key) < 0){\r\n                    returObj.selected[key] = false;\r\n                }\r\n                else{\r\n                    returObj.unselected[key] = false;\r\n                }\r\n            }\r\n            return returObj;\r\n        }\r\n\r\n        function getSidenavItems () {\r\n            var temp = [\r\n                {\r\n                    title: 'Company Management',\r\n                    type: 'Folder',\r\n                    children: [\r\n                        {\r\n                            title: 'Role Management',\r\n                            type: 'Folder'\r\n                        },\r\n                        {\r\n                            title: 'Branch Management',\r\n                            type: 'Folder'\r\n                        },\r\n                        {\r\n                            title: 'Department Management',\r\n                            type: 'Folder'\r\n                        },\r\n                        {\r\n                            title: 'Settings',\r\n                            type: 'Folder'\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    title: 'User Management',\r\n                    type: 'Folder',\r\n                    children: [\r\n                        {\r\n                            title: 'Public User Group Management',\r\n                            type: 'Folder'\r\n                        }\r\n                    ]\r\n                }\r\n            ];\r\n            return temp;\r\n        }\r\n        \r\n        function getErrorTranslationValue (errorcode) {\r\n            return utils.errorHandler(errorcode);\r\n        }\r\n    }\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n    angular.module('app.core.module')\r\n        .controller('ModalInstanceCtrl', ModalInstanceCtrl);\r\n\r\n    ModalInstanceCtrl.$inject = ['$uibModalInstance', 'dialogData'];\r\n\r\n    function ModalInstanceCtrl ($uibModalInstance, dialogData) {\r\n        var vm = this;\r\n        vm.data = dialogData;\r\n\r\n        vm.ok = function () {\r\n            $uibModalInstance.close(vm.data.successResult);\r\n        };\r\n\r\n        vm.cancel = function () {\r\n            $uibModalInstance.dismiss(vm.data.cancelResult);\r\n        };\r\n    }\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('app.core.module')\r\n        .directive('branch', branchDirective);\r\n\r\n    branchDirective.$inject = ['$compile', 'jQuery'];\r\n    function branchDirective ($compile, $) {\r\n        var directiveObject = {\r\n            replace: true,\r\n            restrict: 'E',\r\n            scope: {\r\n                item: '=',\r\n                selectedFolder: '='\r\n            },\r\n            templateUrl: 'js/modules/common/tree/branch.directive.template.html',\r\n            link: branchLink,\r\n            controller: BranchController,\r\n            controllerAs: 'branch',\r\n            bindToController: true\r\n        };\r\n\r\n        BranchController.$inject = ['$scope'];\r\n\r\n        return directiveObject;\r\n\r\n        function branchLink (scope, element, attributes, ctrl) {\r\n            var $element = $(element);\r\n            \r\n            ctrl.toggleOpenState = toggleOpenState;\r\n            \r\n            if(angular.isArray(scope.branch.item.children)){\r\n                $compile('<tree collection=\"branch.item.children\" selected-folder=\"tree.selectedFolder\"></tree>')(scope, function (cloned) {\r\n                    element.append(cloned);\r\n                });\r\n            }\r\n            \r\n            function toggleOpenState (event) {\r\n                event.stopPropagation();\r\n                ctrl.isOpen = !ctrl.isOpen;\r\n                if(ctrl.isOpen){\r\n                    $element.children('.menu-tree').slideDown();\r\n                }\r\n                else{\r\n                    scope.$emit('folderOpened');\r\n                    $element.children('.menu-tree').slideUp();\r\n                }\r\n            }\r\n        }\r\n\r\n        function BranchController ($scope) {\r\n            var vm = this;\r\n            //vm.isActive = false;\r\n            vm.isActive = vm.item === vm.selectedFolder;\r\n            vm.isOpen = false;\r\n            vm.onItemClick = onItemClick;\r\n            vm.hasInnerFolder = checkForInnerFolder();\r\n            //vm.toggleOpenState = toggleOpenState;\r\n            $scope.$on('folderSelectFromExplorer', onFolderSelect);\r\n            $scope.$on('folderOpened', folderOpenedLitener);\r\n\r\n            function onItemClick (item) {\r\n                $scope.$emit('folderSelectFromTree', item);\r\n            }\r\n\r\n            function onFolderSelect (event, item) {\r\n                if(item === vm.item){\r\n                    vm.isActive = true;\r\n                    vm.isOpen = true;\r\n                    $scope.$emit('folderOpened');\r\n                }\r\n                else{\r\n                    vm.isActive = false;\r\n                }\r\n            }\r\n            \r\n            function folderOpenedLitener () {\r\n                //console.log(vm.item.title);\r\n            }\r\n            \r\n            function checkForInnerFolder () {\r\n                var hasFolder = false;\r\n                angular.forEach(vm.item.children, function (item) {\r\n                    if(item.type === 'Folder'){\r\n                        hasFolder = true;\r\n                    }\r\n                });\r\n                return hasFolder;\r\n            }\r\n        }\r\n    }\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('app.core.module')\r\n        .directive('slideToggle', slideToggleDirective);\r\n\r\n    slideToggleDirective.$inject = ['jQuery'];\r\n    function slideToggleDirective ($) {\r\n        var directiveObject = {\r\n            restrict: 'A',\r\n            link: slideToggleLink,\r\n        };\r\n\r\n        return directiveObject;\r\n\r\n        function slideToggleLink (scope, element) {\r\n            var $element = $(element);\r\n            element.on('click', function () {\r\n                if($element.hasClass('active')){\r\n                    $element.siblings('.menu-tree').slideDown();\r\n                }\r\n                else{\r\n                    $element.siblings('.menu-tree').slideUp();\r\n                }\r\n            });\r\n        }\r\n    }\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('app.core.module')\r\n        .directive('stopPropagation', stopPropagationDirective);\r\n\r\n    function stopPropagationDirective () {\r\n        var directiveObject = {\r\n            replace: true,\r\n            restrict: 'A',\r\n            scope: {\r\n                collection: '='\r\n            },\r\n            link: stopPropagationLink,\r\n            controller: TreeController,\r\n            controllerAs: 'stopPropagation',\r\n            bindToController: true\r\n        };\r\n\r\n        return directiveObject;\r\n\r\n        function stopPropagationLink (scope, element) {\r\n            element.on('click', function (event) {\r\n                event.stopPropagation();\r\n            });\r\n        }\r\n\r\n        function TreeController () {\r\n            //var vm = this;\r\n        }\r\n    }\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('app.core.module')\r\n        .directive('tree', treeDirective);\r\n\r\n    function treeDirective () {\r\n        var directiveObject = {\r\n            replace: true,\r\n            restrict: 'E',\r\n            scope: {\r\n                collection: '=',\r\n                selectedFolder: '='\r\n            },\r\n            templateUrl: 'js/modules/common/tree/tree.directive.template.html',\r\n            link: treeLink,\r\n            controller: TreeController,\r\n            controllerAs: 'tree',\r\n            bindToController: true\r\n        };\r\n        \r\n        return directiveObject;\r\n\r\n        //function treeLink (scope, element, attributes, ctrl) {\r\n        function treeLink () {\r\n            //console.log(ctrl.collection);\r\n        }\r\n        \r\n        function TreeController () {\r\n            //var vm = this;\r\n        }\r\n    }\r\n})();","/*jshint browser: true*/\r\n/*global angular: true*/\r\n\r\n(function(){\r\n    'use strict';\r\n    angular.module('app.core.module')\r\n        .controller('RoleUpdateController', RoleUpdateController);\r\n\r\n    RoleUpdateController.$inject = ['$uibModalInstance', 'dialogData', 'toastr', 'utils', 'roleService'];\r\n\r\n    function RoleUpdateController ($uibModalInstance, dialogData, toastr, utils, roleService) {\r\n        var vm = this;\r\n        vm.activeTab = 0;\r\n        vm.data = dialogData;\r\n        vm.role = {\r\n            name: dialogData.item.name,\r\n            description: dialogData.item.description\r\n        };\r\n        var permissionList = roleService.getPermissionArray(dialogData.item.privileges);\r\n        var mode = dialogData.mode;\r\n\r\n        vm.unselectedPermissions = permissionList.selected;\r\n        vm.selectedPermissions = permissionList.unselected;\r\n\r\n        vm.validateRoleDetail = validateRoleDetail;\r\n        vm.movePermissions = movePermissions;\r\n        vm.createUpdateRole = createUpdateRole;\r\n        vm.nextTab = nextTab;\r\n        vm.cancel = cancel;\r\n\r\n        //--------------------------------------\r\n        //function declarations\r\n\r\n        function validateRoleDetail () {\r\n            var isValid =  ((vm.role.name) && (vm.role.description))? true : false;\r\n            return isValid;\r\n        }\r\n\r\n        function movePermissions (item1, item2, forceMove) {\r\n            if(!Object.keys(item1).length){\r\n                return;\r\n            }\r\n            for(var key in item1){\r\n                if(item1.hasOwnProperty(key)){\r\n                    if(item1[key] || forceMove){\r\n                        item2[key] = false;\r\n                        delete item1[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function nextTab () {\r\n            vm.activeTab = 1;\r\n        }\r\n        function cancel () {\r\n            $uibModalInstance.dismiss(vm.data.cancelResult);\r\n        }\r\n\r\n        function createUpdateRole () {\r\n            if(mode === 'create'){\r\n                createRole();\r\n            }\r\n            else{\r\n                updateRole();\r\n            }\r\n        }\r\n\r\n        function createRole () {\r\n            var privileges = createPermissionString(vm.selectedPermissions);\r\n            var requestObj = {\r\n                name: vm.role.name,\r\n                description: vm.role.description,\r\n                privileges: privileges\r\n            };\r\n            console.log(requestObj);\r\n            roleService.createRole(requestObj)\r\n                .then(onCreateRoleSuccess)\r\n                .catch(onCreateRoleError);\r\n        }\r\n\r\n        function onCreateRoleSuccess () {\r\n            $uibModalInstance.close();\r\n            toastr.success('Success', 'Creating Role');\r\n        }\r\n\r\n        function onCreateRoleError (error) {\r\n            console.log(error);\r\n            var errorTranslation = roleService.getErrorTranslationValue(error.header.responseCode);\r\n            toastr.error(errorTranslation, 'Error in creating Role');\r\n        }\r\n\r\n        function updateRole () {\r\n            var privileges = createPermissionString(vm.selectedPermissions);\r\n            var requestObj = {\r\n                id: vm.data.item.id,\r\n                name: vm.role.name,\r\n                description: vm.role.description,\r\n                privileges: privileges\r\n            };\r\n            console.log(requestObj);\r\n            roleService.updateRole(requestObj)\r\n                .then(onUpdateRoleSuccess)\r\n                .catch(onUpdateRoleError);\r\n        }\r\n\r\n        function onUpdateRoleSuccess () {\r\n            $uibModalInstance.close();\r\n            toastr.success('Success', 'Updating Role');\r\n        }\r\n\r\n        function onUpdateRoleError (error) {\r\n            console.log(error);\r\n            var errorTranslation = roleService.getErrorTranslationValue(error.header.responseCode);\r\n            toastr.error(errorTranslation, 'Error in updating Role');\r\n        }\r\n\r\n        function createPermissionString (Obj) {\r\n            var privileges = '';\r\n            var temp = [];\r\n            for(var key in Obj){\r\n                if(Obj.hasOwnProperty(key)){\r\n                    temp.push(key);\r\n                }\r\n            }\r\n            if(temp.length){\r\n                privileges = temp.join(',');\r\n            }\r\n            \r\n            return privileges;\r\n        }\r\n    }\r\n})();"]}